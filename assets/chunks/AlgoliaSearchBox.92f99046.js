import{j as v}from"./index.d76f8212.js";import{d as w,u as x,b as y,w as d,e as b,f as k,o as P,c as R,g as j}from"../app.53c32263.js";const C={class:"algolia-search-box",id:"docsearch"},L=w({props:{options:null,multilang:{type:Boolean}},setup(g){var h;const o=g,r=j(),i=x(),c=y();d(()=>o.options,e=>{_(e)}),b(()=>{p(o.options)});function m(e){return e.button===1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}function l(e){const{pathname:t,hash:a}=new URL(e);return t+a}function _(e){r&&r.vnode.el&&(r.vnode.el.innerHTML='<div class="algolia-search-box" id="docsearch"></div>',p(e))}const{lang:u}=k(),s=o.multilang?["lang:"+u.value]:[];(h=o.options.searchParameters)!=null&&h.facetFilters&&s.push(...o.options.searchParameters.facetFilters),d(u,(e,t)=>{const a=s.findIndex(n=>n==="lang:"+t);a>-1&&s.splice(a,1,"lang:"+e)});function p(e){v(Object.assign({},e,{container:"#docsearch",searchParameters:Object.assign({},e.searchParameters,{facetFilters:s}),navigator:{navigate:({itemUrl:t})=>{const{pathname:a}=new URL(window.location.origin+t);i.path===a?window.location.assign(window.location.origin+t):c.go(t)}},transformItems:t=>t.map(a=>{const n=new URL(a.url);return n.pathname.startsWith("/knex")&&(n.pathname=n.pathname.replace("/knex","")),Object.assign({},a,{url:l(n.href)})}),hitComponent:({hit:t,children:a})=>{const n=t.url.startsWith("http")?l(t.url):t.url;return{type:"a",ref:void 0,constructor:void 0,key:void 0,props:{href:t.url,onClick:f=>{m(f)||i.path!==n&&(i.path!==n&&f.preventDefault(),c.go(n))},children:a},__v:null}}}))}return(e,t)=>(P(),R("div",C))}});export{L as default};
